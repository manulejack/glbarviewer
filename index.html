<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>GLB VR Viewer</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

        <!-- Super Hands -->
    <script src="https://cdn.jsdelivr.net/gh/wmurphyrd/aframe-super-hands-component@4.0.5/dist/aframe-super-hands.min.js"></script>
    
    <style>
      body {
        margin: 0;
        font-family: sans-serif;
      }
      #ui {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 10;
        background: rgba(255,255,255,0.9);
        padding: 10px;
        border-radius: 6px;
      }
    </style>
  </head>

  <body>
    <div id="ui">
      <div>Load a GLB file</div>
      <input type="file" id="fileInput" accept=".glb" />
    </div>

    <a-scene vr-mode-ui="enabled: true">
      <a-entity
        id="model"
        position="0 0 -2"
        rotation="0 0 0"
        scale="1 1 1"
        class="interactable"
        super-hands>
      </a-entity>

      <a-camera position="0 1.6 0"></a-camera>

 <!-- ContrÃ´leurs Meta Quest avec super hands -->
  <a-entity id="leftController" meta-touch-controls="hand: left" super-hands></a-entity>
  <a-entity id="rightController" meta-touch-controls="hand: right" super-hands></a-entity>
      
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>

    <script>
      const fileInput = document.getElementById("fileInput");
      const model = document.getElementById("model");

      fileInput.addEventListener("change", () => {
        const file = fileInput.files[0];
        if (!file) return;

        const url = URL.createObjectURL(file);
        model.setAttribute("gltf-model", url);
      });
    </script>
  </body>
</html>
